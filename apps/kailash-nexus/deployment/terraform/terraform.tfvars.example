# Terraform Variables Configuration Example
# Copy this file to terraform.tfvars and customize values for your environment

# Core Infrastructure
environment    = "production"
region        = "us-west-2"
project_name  = "nexus"

# Networking
vpc_cidr = "10.0.0.0/16"
# availability_zones = ["us-west-2a", "us-west-2b", "us-west-2c"]  # Leave empty to use first 3 AZs

# EKS Cluster Configuration
cluster_name    = "nexus-production"
cluster_version = "1.27"

# Worker Node Configuration
node_instance_type  = "t3.medium"    # Options: t3.small, t3.medium, t3.large, m5.large, etc.
min_node_count     = 3
max_node_count     = 10
desired_node_count = 3

# Database Configuration
db_name                     = "nexus_prod"
db_username                = "nexus"
db_instance_class          = "db.t3.medium"    # Options: db.t3.micro, db.t3.small, db.t3.medium, db.r5.large, etc.
db_allocated_storage       = 100               # GB
db_max_allocated_storage   = 1000              # GB
db_backup_retention_period = 30                # days

# Cache Configuration
redis_node_type          = "cache.t3.medium"   # Options: cache.t3.micro, cache.t3.small, cache.t3.medium, etc.
redis_num_cache_clusters = 3

# Domain and SSL
domain_name = "yourdomain.com"
subdomain   = "nexus"
# Final URL will be: https://nexus.yourdomain.com

# Monitoring and Alerting
enable_monitoring        = true
alert_email             = "alerts@yourdomain.com"
cpu_alarm_threshold     = 80    # percentage
response_time_threshold = 2     # seconds

# Backup and Storage
backup_retention_days = 30      # days
enable_deletion_protection = true

# Security Configuration
allowed_cidr_blocks = [
  "0.0.0.0/0"    # WARNING: This allows access from anywhere. Restrict in production!
  # "10.0.0.0/8",      # Private networks
  # "172.16.0.0/12",   # Private networks
  # "192.168.0.0/16",  # Private networks
  # "203.0.113.0/24",  # Your office IP range
]

enable_waf               = true
enable_encryption        = true
enable_secrets_encryption = true

# Cost Optimization
enable_spot_instances = false
# spot_max_price = "0.05"  # USD per hour - only set if using spot instances

# Feature Flags
enable_container_insights = true
enable_irsa              = true

# Additional Tags (optional)
additional_tags = {
  Owner       = "Platform Team"
  CostCenter  = "Engineering"
  Backup      = "Required"
  Compliance  = "SOC2"
}

# Example Production Configuration:
# environment             = "production"
# node_instance_type     = "m5.large"
# min_node_count         = 3
# max_node_count         = 20
# desired_node_count     = 5
# db_instance_class      = "db.r5.large"
# redis_node_type        = "cache.r5.large"
# backup_retention_days  = 90
# cpu_alarm_threshold    = 70

# Example Staging Configuration:
# environment             = "staging"
# node_instance_type     = "t3.small"
# min_node_count         = 1
# max_node_count         = 5
# desired_node_count     = 2
# db_instance_class      = "db.t3.small"
# redis_node_type        = "cache.t3.small"
# backup_retention_days  = 7
# enable_deletion_protection = false

# Example Development Configuration:
# environment             = "development"
# node_instance_type     = "t3.micro"
# min_node_count         = 1
# max_node_count         = 3
# desired_node_count     = 1
# db_instance_class      = "db.t3.micro"
# redis_node_type        = "cache.t3.micro"
# backup_retention_days  = 3
# enable_deletion_protection = false
# enable_monitoring       = false
