<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise QA Testing Report - QA Testing Report</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* main.css */
/* Main CSS - Core styles and variables */

:root {
    /* Color Palette */
    --primary-color: #3b82f6;
    --secondary-color: #8b5cf6;
    --success-color: #10b981;
    --danger-color: #ef4444;
    --warning-color: #f59e0b;
    --info-color: #3b82f6;
    
    /* Neutral Colors */
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-300: #d1d5db;
    --gray-400: #9ca3af;
    --gray-500: #6b7280;
    --gray-600: #4b5563;
    --gray-700: #374151;
    --gray-800: #1f2937;
    --gray-900: #111827;
    
    /* Spacing */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;
    
    /* Typography */
    --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 2rem;
    
    /* Borders */
    --border-radius-sm: 0.25rem;
    --border-radius-md: 0.375rem;
    --border-radius-lg: 0.5rem;
    --border-radius-xl: 0.75rem;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
}

/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
    font-family: var(--font-family);
    font-size: var(--font-size-base);
    line-height: 1.5;
    color: var(--gray-900);
    background-color: var(--gray-50);
}

/* App Container */
.app-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* Main Content */
.main-content {
    flex: 1;
    padding: var(--spacing-xl);
    max-width: 1400px;
    margin: 0 auto;
    width: 100%;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
    color: var(--gray-900);
}

h1 { font-size: var(--font-size-3xl); }
h2 { font-size: var(--font-size-2xl); }
h3 { font-size: var(--font-size-xl); }
h4 { font-size: var(--font-size-lg); }

/* Links */
a {
    color: var(--primary-color);
    text-decoration: none;
    transition: color 0.2s;
}

a:hover {
    color: var(--secondary-color);
}

/* Buttons */
.btn {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-lg);
    font-size: var(--font-size-sm);
    font-weight: 500;
    border-radius: var(--border-radius-md);
    border: none;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-primary {
    background-color: var(--primary-color);
    color: white;
}

.btn-primary:hover {
    background-color: #2563eb;
}

.btn-secondary {
    background-color: var(--gray-200);
    color: var(--gray-700);
}

.btn-secondary:hover {
    background-color: var(--gray-300);
}

.btn-sm {
    padding: var(--spacing-xs) var(--spacing-md);
    font-size: var(--font-size-xs);
}

.btn-icon {
    padding: var(--spacing-sm);
    background: transparent;
    border: 1px solid var(--gray-300);
    border-radius: var(--border-radius-sm);
    cursor: pointer;
    transition: all 0.2s;
}

.btn-icon:hover {
    background-color: var(--gray-100);
}

/* Cards */
.card {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
}

/* Grid Layouts */
.grid {
    display: grid;
    gap: var(--spacing-lg);
}

.grid-cols-2 {
    grid-template-columns: repeat(2, 1fr);
}

.grid-cols-3 {
    grid-template-columns: repeat(3, 1fr);
}

.grid-cols-4 {
    grid-template-columns: repeat(4, 1fr);
}

/* Section Titles */
.section-title {
    font-size: var(--font-size-xl);
    font-weight: 600;
    margin-bottom: var(--spacing-lg);
    color: var(--gray-800);
}

/* Status Colors */
.status-passed { color: var(--success-color); }
.status-failed { color: var(--danger-color); }
.status-blocked { color: var(--warning-color); }
.status-skipped { color: var(--gray-400); }

/* Progress Bars */
.progress-bar {
    height: 8px;
    background-color: var(--gray-200);
    border-radius: var(--border-radius-xl);
    overflow: hidden;
    display: flex;
}

.progress-segment {
    height: 100%;
}

.progress-passed { background-color: var(--success-color); }
.progress-failed { background-color: var(--danger-color); }
.progress-blocked { background-color: var(--warning-color); }
.progress-skipped { background-color: var(--gray-400); }

/* Utility Classes */
.text-center { text-align: center; }
.text-right { text-align: right; }
.font-bold { font-weight: 600; }
.mt-1 { margin-top: var(--spacing-sm); }
.mt-2 { margin-top: var(--spacing-md); }
.mt-3 { margin-top: var(--spacing-lg); }
.mb-1 { margin-bottom: var(--spacing-sm); }
.mb-2 { margin-bottom: var(--spacing-md); }
.mb-3 { margin-bottom: var(--spacing-lg); }

/* Responsive */
@media (max-width: 1024px) {
    .grid-cols-4 {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .grid-cols-3 {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 640px) {
    .grid-cols-4,
    .grid-cols-3,
    .grid-cols-2 {
        grid-template-columns: 1fr;
    }
    
    .main-content {
        padding: var(--spacing-md);
    }
}

/* Print Styles */
@media print {
    .header-actions,
    .tab-navigation,
    .btn,
    .filter-group {
        display: none !important;
    }
    
    body {
        background: white;
    }
    
    .card {
        box-shadow: none;
        border: 1px solid var(--gray-300);
    }
}

/* components.css */
/* Components CSS - Specific component styles */

/* Header Component */
.header {
    background-color: white;
    border-bottom: 1px solid var(--gray-200);
    box-shadow: var(--shadow-sm);
}

.header-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: var(--spacing-lg) var(--spacing-xl);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--spacing-lg);
}

.header-brand {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.header-icon {
    font-size: var(--font-size-2xl);
    color: var(--primary-color);
}

.header-title {
    font-size: var(--font-size-2xl);
    margin: 0;
}

.header-info {
    display: flex;
    align-items: center;
    gap: var(--spacing-xl);
}

.header-meta {
    display: flex;
    gap: var(--spacing-lg);
}

.meta-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: var(--gray-600);
    font-size: var(--font-size-sm);
}

.header-actions {
    display: flex;
    gap: var(--spacing-md);
}

/* Metrics Card Component */
.metrics-card {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
    display: flex;
    align-items: center;
    gap: var(--spacing-lg);
    transition: all 0.3s;
}

.metrics-card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.metrics-icon {
    width: 60px;
    height: 60px;
    border-radius: var(--border-radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-2xl);
}

.metrics-card.primary .metrics-icon {
    background-color: rgba(59, 130, 246, 0.1);
    color: var(--primary-color);
}

.metrics-card.success .metrics-icon {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
}

.metrics-card.danger .metrics-icon {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--danger-color);
}

.metrics-card.warning .metrics-icon {
    background-color: rgba(245, 158, 11, 0.1);
    color: var(--warning-color);
}

.metrics-content {
    flex: 1;
}

.metrics-value {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    margin: 0;
    line-height: 1;
}

.metrics-label {
    color: var(--gray-600);
    font-size: var(--font-size-sm);
    margin: var(--spacing-xs) 0 0;
}

.metrics-change {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: var(--font-size-xs);
    font-weight: 500;
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--border-radius-sm);
    margin-top: var(--spacing-sm);
}

.metrics-change.positive {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
}

.metrics-change.negative {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--danger-color);
}

/* Status Overview Component */
.status-overview {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-xl);
    box-shadow: var(--shadow-sm);
}

.status-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-xl);
}

.status-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-lg);
    border-radius: var(--border-radius-md);
    background-color: var(--gray-50);
}

.status-icon {
    font-size: var(--font-size-2xl);
}

.status-item.status-passed .status-icon {
    color: var(--success-color);
}

.status-item.status-failed .status-icon {
    color: var(--danger-color);
}

.status-item.status-blocked .status-icon {
    color: var(--warning-color);
}

.status-item.status-skipped .status-icon {
    color: var(--gray-400);
}

.status-count {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    margin: 0;
}

.status-label {
    color: var(--gray-600);
    font-size: var(--font-size-sm);
    margin: 0;
}

.status-progress {
    margin-top: var(--spacing-lg);
}

.progress-label {
    margin-top: var(--spacing-md);
    text-align: center;
    color: var(--gray-600);
}

/* Tab Navigation Component */
.tab-navigation {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-sm);
    margin-bottom: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
}

.tab-list {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: var(--spacing-sm);
    overflow-x: auto;
}

.tab-item {
    flex-shrink: 0;
    padding: var(--spacing-sm) var(--spacing-lg);
    border-radius: var(--border-radius-md);
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: var(--gray-600);
    font-weight: 500;
}

.tab-item:hover {
    background-color: var(--gray-100);
    color: var(--gray-900);
}

.tab-item.active {
    background-color: var(--primary-color);
    color: white;
}

/* Tab Content */
.tab-content {
    min-height: 600px;
}

.tab-pane {
    display: none;
}

.tab-pane.active {
    display: block;
}

/* Chart Container */
.chart-container {
    position: relative;
    height: 400px;
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
}

/* Table Styles */
table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    padding: var(--spacing-md);
    text-align: left;
    border-bottom: 1px solid var(--gray-200);
}

th {
    background-color: var(--gray-50);
    font-weight: 600;
    color: var(--gray-700);
    font-size: var(--font-size-sm);
}

/* Status Badge */
.status-badge {
    display: inline-flex;
    align-items: center;
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--border-radius-xl);
    font-size: var(--font-size-xs);
    font-weight: 500;
}

.status-badge.passed {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
}

.status-badge.failed {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--danger-color);
}

.status-badge.blocked {
    background-color: rgba(245, 158, 11, 0.1);
    color: var(--warning-color);
}

.status-badge.skipped {
    background-color: rgba(107, 114, 128, 0.1);
    color: var(--gray-500);
}

/* Footer */
.footer {
    background-color: white;
    border-top: 1px solid var(--gray-200);
    margin-top: auto;
}

.footer-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: var(--spacing-lg) var(--spacing-xl);
    text-align: center;
    color: var(--gray-600);
    font-size: var(--font-size-sm);
}

/* dashboard.css */
/* Dashboard CSS - Dashboard-specific styles */

/* Dashboard Container */
.dashboard {
    width: 100%;
}

/* Metrics Grid */
.metrics-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-2xl);
}

/* Highlights Section */
.highlights-section {
    margin-top: var(--spacing-2xl);
}

.highlights-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--spacing-lg);
}

.highlight-card {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
    border-left: 4px solid;
    transition: all 0.3s;
}

.highlight-card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.highlight-card.success {
    border-left-color: var(--success-color);
}

.highlight-card.warning {
    border-left-color: var(--warning-color);
}

.highlight-card.info {
    border-left-color: var(--info-color);
}

.highlight-card i {
    font-size: var(--font-size-xl);
    margin-bottom: var(--spacing-md);
}

.highlight-card h4 {
    margin-bottom: var(--spacing-sm);
}

.highlight-card p {
    color: var(--gray-600);
    font-size: var(--font-size-sm);
}

/* Timeline Section */
.timeline-section {
    margin-top: var(--spacing-2xl);
}

/* Activities Section */
.activities-section {
    margin-top: var(--spacing-2xl);
}

.activities-list {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
}

.activity-item {
    display: flex;
    gap: var(--spacing-md);
    padding: var(--spacing-md) 0;
    border-bottom: 1px solid var(--gray-100);
}

.activity-item:last-child {
    border-bottom: none;
}

.activity-icon {
    width: 40px;
    height: 40px;
    border-radius: var(--border-radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.activity-icon.passed {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
}

.activity-icon.failed {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--danger-color);
}

.activity-content {
    flex: 1;
}

.activity-content h4 {
    margin-bottom: var(--spacing-xs);
}

.activity-content p {
    color: var(--gray-600);
    font-size: var(--font-size-sm);
    margin-bottom: var(--spacing-xs);
}

.activity-time {
    color: var(--gray-400);
    font-size: var(--font-size-xs);
}

/* Persona Grid */
.persona-summary {
    margin-bottom: var(--spacing-xl);
}

.summary-cards {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--spacing-lg);
}

.summary-card {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
    text-align: center;
}

.summary-card i {
    font-size: var(--font-size-2xl);
    color: var(--primary-color);
    margin-bottom: var(--spacing-md);
}

.summary-card h3 {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--spacing-xs);
}

.summary-card p {
    color: var(--gray-600);
    font-size: var(--font-size-sm);
}

.persona-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-2xl);
}

.persona-card {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
    transition: all 0.3s;
}

.persona-card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.persona-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
}

.persona-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-xl);
}

.persona-avatar.blue {
    background-color: rgba(59, 130, 246, 0.1);
    color: var(--primary-color);
}

.persona-avatar.green {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
}

.persona-avatar.purple {
    background-color: rgba(139, 92, 246, 0.1);
    color: var(--secondary-color);
}

.persona-info h3 {
    margin-bottom: var(--spacing-xs);
}

.persona-role {
    color: var(--gray-600);
    font-size: var(--font-size-sm);
}

.persona-stats {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--spacing-lg);
    padding: var(--spacing-md);
    background-color: var(--gray-50);
    border-radius: var(--border-radius-md);
}

.stat-item {
    text-align: center;
}

.stat-label {
    display: block;
    color: var(--gray-600);
    font-size: var(--font-size-xs);
}

.stat-value {
    display: block;
    font-weight: 600;
    font-size: var(--font-size-lg);
}

.persona-scenarios {
    margin-bottom: var(--spacing-lg);
}

.persona-scenarios h4 {
    margin-bottom: var(--spacing-sm);
}

.scenario-list {
    list-style: none;
}

.scenario-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-xs) 0;
    font-size: var(--font-size-sm);
}

.scenario-item.passed {
    color: var(--success-color);
}

.scenario-item.failed {
    color: var(--danger-color);
}

/* Scenario Filters */
.scenario-filters {
    display: flex;
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-lg);
    padding: var(--spacing-lg);
    background-color: white;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-sm);
}

.filter-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.filter-group label {
    font-weight: 500;
    color: var(--gray-700);
}

.filter-group select,
.filter-group input {
    padding: var(--spacing-sm) var(--spacing-md);
    border: 1px solid var(--gray-300);
    border-radius: var(--border-radius-md);
    font-size: var(--font-size-sm);
}

/* Scenarios Table */
.scenarios-table-container {
    background-color: white;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-sm);
    overflow-x: auto;
}

.scenarios-table {
    width: 100%;
}

.scenario-row:hover {
    background-color: var(--gray-50);
}

.scenario-name {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

/* Coverage Styles */
.coverage-overview {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: var(--spacing-2xl);
    margin-bottom: var(--spacing-2xl);
}

.coverage-total {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-xl);
    box-shadow: var(--shadow-sm);
    display: flex;
    align-items: center;
    justify-content: center;
}

.coverage-circle {
    position: relative;
    width: 200px;
    height: 200px;
}

.coverage-value {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.coverage-value h1 {
    font-size: var(--font-size-3xl);
    color: var(--primary-color);
}

.coverage-breakdown {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-xl);
    box-shadow: var(--shadow-sm);
}

.coverage-type-item {
    margin-bottom: var(--spacing-md);
}

.coverage-type-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--spacing-sm);
}

.coverage-bar {
    height: 8px;
    background-color: var(--gray-200);
    border-radius: var(--border-radius-xl);
    overflow: hidden;
}

.coverage-fill {
    height: 100%;
    background-color: var(--primary-color);
    transition: width 0.3s;
}

/* Coverage Matrix */
.coverage-matrix-section {
    margin-bottom: var(--spacing-2xl);
}

.coverage-matrix {
    background-color: white;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-sm);
    overflow-x: auto;
}

.matrix-table {
    width: 100%;
}

.coverage-cell {
    text-align: center;
    font-weight: 600;
}

.coverage-cell.high {
    color: var(--success-color);
    background-color: rgba(16, 185, 129, 0.05);
}

.coverage-cell.medium {
    color: var(--warning-color);
    background-color: rgba(245, 158, 11, 0.05);
}

.coverage-cell.low {
    color: var(--danger-color);
    background-color: rgba(239, 68, 68, 0.05);
}

/* Uncovered Areas */
.uncovered-section {
    margin-top: var(--spacing-2xl);
}

.uncovered-list {
    display: grid;
    gap: var(--spacing-lg);
}

.uncovered-item {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
    border-left: 4px solid;
}

.uncovered-item.high {
    border-left-color: var(--danger-color);
}

.uncovered-item.medium {
    border-left-color: var(--warning-color);
}

.uncovered-item.low {
    border-left-color: var(--info-color);
}

.uncovered-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
}

.priority-badge {
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--border-radius-xl);
    font-size: var(--font-size-xs);
    font-weight: 500;
    background-color: var(--gray-100);
    color: var(--gray-700);
}

/* Modal */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
}

.modal.active {
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-content {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-xl);
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: var(--shadow-xl);
}

/* Responsive Dashboard */
@media (max-width: 1024px) {
    .metrics-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .highlights-grid,
    .persona-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .coverage-overview {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 640px) {
    .metrics-grid,
    .highlights-grid,
    .persona-grid,
    .summary-cards {
        grid-template-columns: 1fr;
    }
    
    .status-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .scenario-filters {
        flex-direction: column;
    }
    
    .tab-list {
        flex-wrap: wrap;
    }
}
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header Component -->
        <header class="header">
    <div class="header-content">
        <div class="header-brand">
            <i class="fas fa-robot header-icon"></i>
            <h1 class="header-title">Enterprise QA Testing Report</h1>
        </div>
        
        <div class="header-info">
            <div class="header-meta">
                <span class="meta-item">
                    <i class="fas fa-calendar"></i>
                    2024-01-15
                </span>
                <span class="meta-item">
                    <i class="fas fa-clock"></i>
                    1h 0m
                </span>
                <span class="meta-item">
                    <i class="fas fa-server"></i>
                    Production
                </span>
            </div>
            
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="window.print()">
                    <i class="fas fa-print"></i> Print
                </button>
                <button class="btn btn-primary" onclick="exportReport()">
                    <i class="fas fa-download"></i> Export
                </button>
            </div>
        </div>
    </div>
</header>
        
        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Dashboard Component -->
            <div class="dashboard">
    <!-- Tab Navigation -->
    <nav class="tab-navigation">
        <ul class="tab-list">
            <li class="tab-item active" data-tab="overview">
                <i class="fas fa-chart-line"></i>
                <span>Overview</span>
            </li>
            <li class="tab-item" data-tab="personas">
                <i class="fas fa-users"></i>
                <span>Personas</span>
            </li>
            <li class="tab-item" data-tab="scenarios">
                <i class="fas fa-tasks"></i>
                <span>Scenarios</span>
            </li>
            <li class="tab-item" data-tab="coverage">
                <i class="fas fa-chart-pie"></i>
                <span>Coverage</span>
            </li>
            <li class="tab-item" data-tab="performance">
                <i class="fas fa-tachometer-alt"></i>
                <span>Performance</span>
            </li>
            <li class="tab-item" data-tab="insights">
                <i class="fas fa-lightbulb"></i>
                <span>Insights</span>
            </li>
        </ul>
    </nav>
    
    <!-- Tab Content -->
    <div class="tab-content">
        <div class="tab-pane active" id="overview-tab">
            <div class="tab-overview">
    <!-- Summary Metrics -->
    <div class="metrics-grid">
        <div class="metrics-card primary">
    <div class="metrics-icon">
        <i class="fas fa-clipboard-check"></i>
    </div>
    <div class="metrics-content">
        <h3 class="metrics-value">248</h3>
        <p class="metrics-label">Total Tests</p>
        
    </div>
</div>
<div class="metrics-card success">
    <div class="metrics-icon">
        <i class="fas fa-chart-line"></i>
    </div>
    <div class="metrics-content">
        <h3 class="metrics-value">87.9%</h3>
        <p class="metrics-label">Pass Rate</p>
        
        <span class="metrics-change positive">
            <i class="fas fa-arrow-up"></i>
            +2.5%
        </span>
        
    </div>
</div>
<div class="metrics-card warning">
    <div class="metrics-icon">
        <i class="fas fa-clock"></i>
    </div>
    <div class="metrics-content">
        <h3 class="metrics-value">1h 0m</h3>
        <p class="metrics-label">Execution Time</p>
        
    </div>
</div>
<div class="metrics-card info">
    <div class="metrics-icon">
        <i class="fas fa-code"></i>
    </div>
    <div class="metrics-content">
        <h3 class="metrics-value">82%</h3>
        <p class="metrics-label">Code Coverage</p>
        
    </div>
</div>
    </div>
    
    <!-- Status Overview -->
    <div class="status-overview">
    <h2 class="section-title">Test Execution Status</h2>
    
    <div class="status-grid">
        <div class="status-item status-passed">
            <div class="status-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="status-details">
                <h3 class="status-count">218</h3>
                <p class="status-label">Passed</p>
            </div>
        </div>
        
        <div class="status-item status-failed">
            <div class="status-icon">
                <i class="fas fa-times-circle"></i>
            </div>
            <div class="status-details">
                <h3 class="status-count">15</h3>
                <p class="status-label">Failed</p>
            </div>
        </div>
        
        <div class="status-item status-blocked">
            <div class="status-icon">
                <i class="fas fa-ban"></i>
            </div>
            <div class="status-details">
                <h3 class="status-count">8</h3>
                <p class="status-label">Blocked</p>
            </div>
        </div>
        
        <div class="status-item status-skipped">
            <div class="status-icon">
                <i class="fas fa-forward"></i>
            </div>
            <div class="status-details">
                <h3 class="status-count">7</h3>
                <p class="status-label">Skipped</p>
            </div>
        </div>
    </div>
    
    <div class="status-progress">
        <div class="progress-bar">
            <div class="progress-segment progress-passed" style="width: 87.9%"></div>
            <div class="progress-segment progress-failed" style="width: 6.0%"></div>
            <div class="progress-segment progress-blocked" style="width: 3.2%"></div>
            <div class="progress-segment progress-skipped" style="width: 2.8%"></div>
        </div>
        <p class="progress-label">Overall Pass Rate: <strong>87.9%</strong></p>
    </div>
</div>
    
    <!-- Key Highlights -->
    <div class="highlights-section">
        <h2 class="section-title">Key Highlights</h2>
        <div class="highlights-grid">
            {{#each highlights}}
            <div class="highlight-card {{type}}">
                <i class="{{icon}}"></i>
                <h4>{{title}}</h4>
                <p>{{description}}</p>
            </div>
            {{/each}}
        </div>
    </div>
    
    <!-- Test Execution Timeline -->
    <div class="timeline-section">
        <h2 class="section-title">Execution Timeline</h2>
        <div class="chart-container">
            <canvas id="timeline-chart"></canvas>
        </div>
    </div>
    
    <!-- Recent Activities -->
    <div class="activities-section">
        <h2 class="section-title">Recent Test Activities</h2>
        <div class="activities-list">
            {{#each recent_activities}}
            <div class="activity-item">
                <div class="activity-icon {{status}}">
                    <i class="{{icon}}"></i>
                </div>
                <div class="activity-content">
                    <h4>{{title}}</h4>
                    <p>{{description}}</p>
                    <span class="activity-time">{{timestamp}}</span>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
</div>
        </div>
        
        <div class="tab-pane" id="personas-tab">
            <div class="tab-personas">
    <h2 class="section-title">Test Personas Analysis</h2>
    
    <!-- Persona Summary -->
    <div class="persona-summary">
        <div class="summary-cards">
            <div class="summary-card">
                <i class="fas fa-users"></i>
                <h3>2</h3>
                <p>Total Personas</p>
            </div>
            <div class="summary-card">
                <i class="fas fa-check"></i>
                <h3>2</h3>
                <p>Active</p>
            </div>
            <div class="summary-card">
                <i class="fas fa-chart-bar"></i>
                <h3>86.5%</h3>
                <p>Avg Coverage</p>
            </div>
        </div>
    </div>
    
    <!-- Persona Details -->
    <div class="persona-grid">
        {{#each personas}}
        <div class="persona-card">
            <div class="persona-header">
                <div class="persona-avatar {{color}}">
                    <i class="{{icon}}"></i>
                </div>
                <div class="persona-info">
                    <h3>{{name}}</h3>
                    <p class="persona-role">{{role}}</p>
                </div>
            </div>
            
            <div class="persona-stats">
                <div class="stat-item">
                    <span class="stat-label">Tests Run</span>
                    <span class="stat-value">{{tests_run}}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Pass Rate</span>
                    <span class="stat-value">87.9%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Coverage</span>
                    <span class="stat-value">{{coverage}}%</span>
                </div>
            </div>
            
            <div class="persona-scenarios">
                <h4>Key Scenarios</h4>
                <ul class="scenario-list">
                    {{#each scenarios}}
                    <li class="scenario-item {{status}}">
                        <i class="fas fa-{{icon}}"></i>
                        <span>{{name}}</span>
                    </li>
                    {{/each}}
                </ul>
            </div>
            
            <div class="persona-actions">
                <button class="btn btn-sm" onclick="viewPersonaDetails('{{id}}')">
                    View Details
                </button>
            </div>
        </div>
        {{/each}}
    </div>
    
    <!-- Persona Performance Chart -->
    <div class="persona-chart-section">
        <h3>Persona Performance Comparison</h3>
        <div class="chart-container">
            <canvas id="persona-comparison-chart"></canvas>
        </div>
    </div>
</div>
        </div>
        
        <div class="tab-pane" id="scenarios-tab">
            <div class="tab-scenarios">
    <h2 class="section-title">Test Scenarios</h2>
    
    <!-- Scenario Filters -->
    <div class="scenario-filters">
        <div class="filter-group">
            <label>Status:</label>
            <select id="status-filter" onchange="filterScenarios()">
                <option value="all">All</option>
                <option value="passed">Passed</option>
                <option value="failed">Failed</option>
                <option value="blocked">Blocked</option>
            </select>
        </div>
        <div class="filter-group">
            <label>Category:</label>
            <select id="category-filter" onchange="filterScenarios()">
                <option value="all">All Categories</option>
                {{#each categories}}
                <option value="{{value}}">{{label}}</option>
                {{/each}}
            </select>
        </div>
        <div class="filter-group">
            <label>Search:</label>
            <input type="text" id="scenario-search" placeholder="Search scenarios..." onkeyup="filterScenarios()">
        </div>
    </div>
    
    <!-- Scenarios Table -->
    <div class="scenarios-table-container">
        <table class="scenarios-table">
            <thead>
                <tr>
                    <th>Scenario</th>
                    <th>Category</th>
                    <th>Persona</th>
                    <th>Status</th>
                    <th>Duration</th>
                    <th>Steps</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {{#each scenarios}}
                <tr class="scenario-row {{status}}">
                    <td>
                        <div class="scenario-name">
                            <i class="fas fa-{{icon}}"></i>
                            <span>{{name}}</span>
                        </div>
                    </td>
                    <td>{{category}}</td>
                    <td>{{persona}}</td>
                    <td>
                        <span class="status-badge {{status}}">
                            {{status_label}}
                        </span>
                    </td>
                    <td>{{duration}}</td>
                    <td>{{steps_completed}}/{{total_steps}}</td>
                    <td>
                        <button class="btn-icon" onclick="viewScenarioDetails('{{id}}')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn-icon" onclick="rerunScenario('{{id}}')">
                            <i class="fas fa-redo"></i>
                        </button>
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
    
    <!-- Scenario Details Modal Template -->
    <div id="scenario-details-modal" class="modal">
        <div class="modal-content">
            <h3>Scenario Details</h3>
            <div id="scenario-details-content">
                <!-- Details loaded dynamically -->
            </div>
        </div>
    </div>
</div>
        </div>
        
        <div class="tab-pane" id="coverage-tab">
            <div class="tab-coverage">
    <h2 class="section-title">Test Coverage Analysis</h2>
    
    <!-- Coverage Overview -->
    <div class="coverage-overview">
        <div class="coverage-total">
            <div class="coverage-circle">
                <canvas id="coverage-gauge"></canvas>
                <div class="coverage-value">
                    <h1>82%</h1>
                    <p>Overall Coverage</p>
                </div>
            </div>
        </div>
        
        <div class="coverage-breakdown">
            <h3>Coverage by Type</h3>
            <div class="coverage-types">
                {{#each coverage_types}}
                <div class="coverage-type-item">
                    <div class="coverage-type-header">
                        <span>{{name}}</span>
                        <span>{{percentage}}%</span>
                    </div>
                    <div class="coverage-bar">
                        <div class="coverage-fill" style="width: {{percentage}}%"></div>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>
    </div>
    
    <!-- Feature Coverage Matrix -->
    <div class="coverage-matrix-section">
        <h3>Feature Coverage Matrix</h3>
        <div class="coverage-matrix">
            <table class="matrix-table">
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>UI Tests</th>
                        <th>API Tests</th>
                        <th>Integration</th>
                        <th>E2E Tests</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each features}}
                    <tr>
                        <td>{{name}}</td>
                        <td class="coverage-cell {{ui_coverage_class}}">
                            {{ui_coverage}}%
                        </td>
                        <td class="coverage-cell {{api_coverage_class}}">
                            {{api_coverage}}%
                        </td>
                        <td class="coverage-cell {{integration_coverage_class}}">
                            {{integration_coverage}}%
                        </td>
                        <td class="coverage-cell {{e2e_coverage_class}}">
                            {{e2e_coverage}}%
                        </td>
                        <td class="coverage-cell {{total_coverage_class}}">
                            <strong>82%</strong>
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- Coverage Trends -->
    <div class="coverage-trends-section">
        <h3>Coverage Trends</h3>
        <div class="chart-container">
            <canvas id="coverage-trends-chart"></canvas>
        </div>
    </div>
    
    <!-- Uncovered Areas -->
    <div class="uncovered-section">
        <h3>Areas Requiring Additional Coverage</h3>
        <div class="uncovered-list">
            {{#each uncovered_areas}}
            <div class="uncovered-item {{priority}}">
                <div class="uncovered-header">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h4>{{area}}</h4>
                    <span class="priority-badge">{{priority_label}}</span>
                </div>
                <p>{{description}}</p>
                <div class="uncovered-actions">
                    <button class="btn btn-sm" onclick="generateTests('{{id}}')">
                        Generate Tests
                    </button>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
</div>
        </div>
        
        <div class="tab-pane" id="performance-tab">
            <div class="tab-performance">
    <h2 class="section-title">Performance Metrics</h2>
    
    <!-- Performance Summary -->
    <div class="performance-summary">
        <div class="metrics-grid">
            <div class="metrics-card primary">
                <div class="metrics-icon">
                    <i class="fas fa-tachometer-alt"></i>
                </div>
                <div class="metrics-content">
                    <h3 class="metrics-value">{{avg_response_time}}ms</h3>
                    <p class="metrics-label">Avg Response Time</p>
                </div>
            </div>
            
            <div class="metrics-card success">
                <div class="metrics-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="metrics-content">
                    <h3 class="metrics-value">{{throughput}}/s</h3>
                    <p class="metrics-label">Throughput</p>
                </div>
            </div>
            
            <div class="metrics-card warning">
                <div class="metrics-icon">
                    <i class="fas fa-memory"></i>
                </div>
                <div class="metrics-content">
                    <h3 class="metrics-value">{{memory_usage}}%</h3>
                    <p class="metrics-label">Memory Usage</p>
                </div>
            </div>
            
            <div class="metrics-card info">
                <div class="metrics-icon">
                    <i class="fas fa-microchip"></i>
                </div>
                <div class="metrics-content">
                    <h3 class="metrics-value">{{cpu_usage}}%</h3>
                    <p class="metrics-label">CPU Usage</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Performance Charts -->
    <div class="performance-charts">
        <div class="chart-grid">
            <div class="chart-container">
                <h3>Response Time Distribution</h3>
                <canvas id="response-time-chart"></canvas>
            </div>
            
            <div class="chart-container">
                <h3>Resource Utilization</h3>
                <canvas id="resource-usage-chart"></canvas>
            </div>
        </div>
    </div>
    
    <!-- Performance Bottlenecks -->
    <div class="bottlenecks-section">
        <h3>Performance Bottlenecks</h3>
        <div class="bottlenecks-list">
            {{#each bottlenecks}}
            <div class="bottleneck-item {{severity}}">
                <div class="bottleneck-header">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h4>{{name}}</h4>
                    <span class="severity-badge">{{severity_label}}</span>
                </div>
                <p>{{description}}</p>
                <div class="bottleneck-metrics">
                    <span><i class="fas fa-clock"></i> {{impact}}ms impact</span>
                    <span><i class="fas fa-percentage"></i> {{frequency}}% frequency</span>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
    
    <!-- Performance Recommendations -->
    <div class="recommendations-section">
        <h3>Performance Optimization Recommendations</h3>
        <div class="recommendations-list">
            {{#each recommendations}}
            <div class="recommendation-card">
                <div class="recommendation-icon {{priority}}">
                    <i class="fas fa-lightbulb"></i>
                </div>
                <div class="recommendation-content">
                    <h4>{{title}}</h4>
                    <p>{{description}}</p>
                    <div class="recommendation-impact">
                        <span class="impact-label">Expected Impact:</span>
                        <span class="impact-value">{{expected_impact}}</span>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
</div>
        </div>
        
        <div class="tab-pane" id="insights-tab">
            <div class="tab-insights">
    <h2 class="section-title">AI-Powered Insights & Recommendations</h2>
    
    <!-- Executive Summary -->
    <div class="executive-summary">
        <div class="summary-card">
            <h3><i class="fas fa-chart-line"></i> Executive Summary</h3>
            <p>{{executive_summary}}</p>
        </div>
    </div>
    
    <!-- Risk Analysis -->
    <div class="risk-analysis-section">
        <h3>Risk Analysis</h3>
        <div class="risk-grid">
            {{#each risks}}
            <div class="risk-card {{risk_level}}">
                <div class="risk-header">
                    <i class="fas fa-shield-alt"></i>
                    <h4>{{area}}</h4>
                    <span class="risk-score">Risk Score: {{score}}/10</span>
                </div>
                <p>{{description}}</p>
                <div class="risk-mitigation">
                    <h5>Mitigation Strategies:</h5>
                    <ul>
                        {{#each mitigations}}
                        <li>{{this}}</li>
                        {{/each}}
                    </ul>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
    
    <!-- Trend Analysis -->
    <div class="trend-analysis-section">
        <h3>Quality Trends</h3>
        <div class="trends-grid">
            <div class="trend-card">
                <h4><i class="fas fa-arrow-trend-up"></i> Improving Areas</h4>
                <ul class="trend-list positive">
                    {{#each improving_areas}}
                    <li>
                        <span class="trend-name">{{name}}</span>
                        <span class="trend-change">+{{improvement}}%</span>
                    </li>
                    {{/each}}
                </ul>
            </div>
            
            <div class="trend-card">
                <h4><i class="fas fa-arrow-trend-down"></i> Areas Needing Attention</h4>
                <ul class="trend-list negative">
                    {{#each declining_areas}}
                    <li>
                        <span class="trend-name">{{name}}</span>
                        <span class="trend-change">-{{decline}}%</span>
                    </li>
                    {{/each}}
                </ul>
            </div>
        </div>
    </div>
    
    <!-- AI Recommendations -->
    <div class="ai-recommendations-section">
        <h3>AI-Generated Recommendations</h3>
        <div class="ai-recommendations">
            {{#each ai_recommendations}}
            <div class="ai-recommendation {{category}}">
                <div class="recommendation-header">
                    <i class="fas fa-robot"></i>
                    <h4>{{title}}</h4>
                    <span class="confidence-badge">{{confidence}}% confidence</span>
                </div>
                <p>{{description}}</p>
                <div class="recommendation-details">
                    <div class="detail-item">
                        <strong>Impact:</strong> {{impact}}
                    </div>
                    <div class="detail-item">
                        <strong>Effort:</strong> {{effort}}
                    </div>
                    <div class="detail-item">
                        <strong>Priority:</strong> {{priority}}
                    </div>
                </div>
                <div class="recommendation-actions">
                    <button class="btn btn-sm btn-primary" onclick="implementRecommendation('{{id}}')">
                        Implement
                    </button>
                    <button class="btn btn-sm btn-secondary" onclick="dismissRecommendation('{{id}}')">
                        Dismiss
                    </button>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
    
    <!-- Next Steps -->
    <div class="next-steps-section">
        <h3>Recommended Next Steps</h3>
        <div class="steps-timeline">
            {{#each next_steps}}
            <div class="step-item">
                <div class="step-number">{{step_number}}</div>
                <div class="step-content">
                    <h4>{{title}}</h4>
                    <p>{{description}}</p>
                    <span class="step-timeline">{{timeline}}</span>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
</div>
        </div>
    </div>
</div>
        </main>
        
        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <p>Generated on 2025-06-15 23:23:51 | Kailash QA Testing Framework v1.0.0</p>
            </div>
        </footer>
    </div>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // main.js
// Main JavaScript - Core functionality

// Tab Navigation
document.addEventListener('DOMContentLoaded', function() {
    initializeTabs();
    initializeCharts();
    initializeFilters();
    initializeActions();
});

// Tab Navigation System
function initializeTabs() {
    const tabItems = document.querySelectorAll('.tab-item');
    const tabPanes = document.querySelectorAll('.tab-pane');
    
    tabItems.forEach(item => {
        item.addEventListener('click', function() {
            const targetTab = this.getAttribute('data-tab');
            
            // Update active states
            tabItems.forEach(tab => tab.classList.remove('active'));
            tabPanes.forEach(pane => pane.classList.remove('active'));
            
            this.classList.add('active');
            document.getElementById(`${targetTab}-tab`).classList.add('active');
            
            // Store active tab in localStorage
            localStorage.setItem('activeTab', targetTab);
            
            // Trigger tab change event
            document.dispatchEvent(new CustomEvent('tabChanged', { detail: targetTab }));
        });
    });
    
    // Restore last active tab
    const lastActiveTab = localStorage.getItem('activeTab');
    if (lastActiveTab) {
        const tabItem = document.querySelector(`[data-tab="${lastActiveTab}"]`);
        if (tabItem) {
            tabItem.click();
        }
    }
}

// Export Report Function
function exportReport() {
    const reportData = collectReportData();
    const jsonData = JSON.stringify(reportData, null, 2);
    
    // Create download link
    const blob = new Blob([jsonData], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `qa-report-${new Date().toISOString().split('T')[0]}.json`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
}

// Collect Report Data
function collectReportData() {
    return {
        metadata: {
            title: document.querySelector('.header-title').textContent,
            generatedAt: new Date().toISOString(),
            environment: getEnvironment(),
            duration: getDuration()
        },
        summary: getSummaryData(),
        personas: getPersonasData(),
        scenarios: getScenariosData(),
        coverage: getCoverageData(),
        performance: getPerformanceData(),
        insights: getInsightsData()
    };
}

// Helper Functions
function getEnvironment() {
    const envElement = document.querySelector('.meta-item:nth-child(3)');
    return envElement ? envElement.textContent.trim() : 'Unknown';
}

function getDuration() {
    const durationElement = document.querySelector('.meta-item:nth-child(2)');
    return durationElement ? durationElement.textContent.trim() : 'Unknown';
}

function getSummaryData() {
    // Collect summary metrics
    const metrics = [];
    document.querySelectorAll('.metrics-card').forEach(card => {
        metrics.push({
            value: card.querySelector('.metrics-value').textContent,
            label: card.querySelector('.metrics-label').textContent,
            change: card.querySelector('.metrics-change')?.textContent
        });
    });
    return metrics;
}

function getPersonasData() {
    // Collect personas data
    const personas = [];
    document.querySelectorAll('.persona-card').forEach(card => {
        personas.push({
            name: card.querySelector('.persona-info h3').textContent,
            role: card.querySelector('.persona-role').textContent,
            stats: {
                testsRun: card.querySelector('.stat-value:nth-child(1)').textContent,
                passRate: card.querySelector('.stat-value:nth-child(2)').textContent,
                coverage: card.querySelector('.stat-value:nth-child(3)').textContent
            }
        });
    });
    return personas;
}

function getScenariosData() {
    // Collect scenarios data
    const scenarios = [];
    document.querySelectorAll('.scenario-row').forEach(row => {
        scenarios.push({
            name: row.querySelector('.scenario-name span').textContent,
            category: row.querySelector('td:nth-child(2)').textContent,
            persona: row.querySelector('td:nth-child(3)').textContent,
            status: row.querySelector('.status-badge').textContent.trim(),
            duration: row.querySelector('td:nth-child(5)').textContent,
            steps: row.querySelector('td:nth-child(6)').textContent
        });
    });
    return scenarios;
}

function getCoverageData() {
    // Placeholder for coverage data collection
    return {
        overall: document.querySelector('.coverage-value h1')?.textContent || '0%',
        byType: [],
        byFeature: []
    };
}

function getPerformanceData() {
    // Placeholder for performance data collection
    return {
        metrics: [],
        trends: []
    };
}

function getInsightsData() {
    // Placeholder for insights data collection
    return {
        recommendations: [],
        issues: []
    };
}

// Scenario Filtering
function initializeFilters() {
    const statusFilter = document.getElementById('status-filter');
    const categoryFilter = document.getElementById('category-filter');
    const searchInput = document.getElementById('scenario-search');
    
    if (statusFilter) {
        statusFilter.addEventListener('change', filterScenarios);
    }
    
    if (categoryFilter) {
        categoryFilter.addEventListener('change', filterScenarios);
    }
    
    if (searchInput) {
        searchInput.addEventListener('input', debounce(filterScenarios, 300));
    }
}

function filterScenarios() {
    const status = document.getElementById('status-filter')?.value || 'all';
    const category = document.getElementById('category-filter')?.value || 'all';
    const search = document.getElementById('scenario-search')?.value.toLowerCase() || '';
    
    document.querySelectorAll('.scenario-row').forEach(row => {
        const rowStatus = row.classList.contains('passed') ? 'passed' :
                         row.classList.contains('failed') ? 'failed' :
                         row.classList.contains('blocked') ? 'blocked' : 'skipped';
        const rowCategory = row.querySelector('td:nth-child(2)').textContent;
        const rowName = row.querySelector('.scenario-name span').textContent.toLowerCase();
        
        const statusMatch = status === 'all' || rowStatus === status;
        const categoryMatch = category === 'all' || rowCategory === category;
        const searchMatch = search === '' || rowName.includes(search);
        
        row.style.display = statusMatch && categoryMatch && searchMatch ? '' : 'none';
    });
}

// Action Handlers
function initializeActions() {
    // Scenario actions
    window.viewScenarioDetails = function(scenarioId) {
        console.log('Viewing scenario details:', scenarioId);
        // Implementation for viewing scenario details
    };
    
    window.rerunScenario = function(scenarioId) {
        console.log('Rerunning scenario:', scenarioId);
        // Implementation for rerunning scenario
    };
    
    // Persona actions
    window.viewPersonaDetails = function(personaId) {
        console.log('Viewing persona details:', personaId);
        // Implementation for viewing persona details
    };
    
    // Coverage actions
    window.generateTests = function(areaId) {
        console.log('Generating tests for area:', areaId);
        // Implementation for generating tests
    };
}

// Utility Functions
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// Format numbers with commas
function formatNumber(num) {
    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

// Format duration
function formatDuration(seconds) {
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor((seconds % 3600) / 60);
    const secs = seconds % 60;
    
    if (hours > 0) {
        return `${hours}h ${minutes}m`;
    } else if (minutes > 0) {
        return `${minutes}m ${secs}s`;
    } else {
        return `${secs}s`;
    }
}

// Color scheme for charts
const chartColors = {
    primary: '#3b82f6',
    secondary: '#8b5cf6',
    success: '#10b981',
    danger: '#ef4444',
    warning: '#f59e0b',
    info: '#3b82f6',
    gray: '#6b7280'
};

// Initialize tooltips
function initializeTooltips() {
    const tooltips = document.querySelectorAll('[data-tooltip]');
    tooltips.forEach(element => {
        element.addEventListener('mouseenter', showTooltip);
        element.addEventListener('mouseleave', hideTooltip);
    });
}

function showTooltip(event) {
    const text = event.target.getAttribute('data-tooltip');
    const tooltip = document.createElement('div');
    tooltip.className = 'tooltip';
    tooltip.textContent = text;
    document.body.appendChild(tooltip);
    
    const rect = event.target.getBoundingClientRect();
    tooltip.style.top = `${rect.top - tooltip.offsetHeight - 5}px`;
    tooltip.style.left = `${rect.left + (rect.width - tooltip.offsetWidth) / 2}px`;
}

function hideTooltip() {
    const tooltip = document.querySelector('.tooltip');
    if (tooltip) {
        tooltip.remove();
    }
}

// chart.js
// Chart.js - Chart initialization and management

// Initialize all charts
function initializeCharts() {
    // Wait for tab content to be visible
    setTimeout(() => {
        initializeTimelineChart();
        initializePersonaComparisonChart();
        initializeCoverageGauge();
        initializeCoverageTrendsChart();
        initializePerformanceCharts();
    }, 100);
    
    // Re-initialize charts on tab change
    document.addEventListener('tabChanged', function(e) {
        switch(e.detail) {
            case 'overview':
                initializeTimelineChart();
                break;
            case 'personas':
                initializePersonaComparisonChart();
                break;
            case 'coverage':
                initializeCoverageGauge();
                initializeCoverageTrendsChart();
                break;
            case 'performance':
                initializePerformanceCharts();
                break;
        }
    });
}

// Timeline Chart
function initializeTimelineChart() {
    const ctx = document.getElementById('timeline-chart');
    if (!ctx) return;
    
    const timelineChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: generateTimeLabels(),
            datasets: [{
                label: 'Tests Executed',
                data: generateTimelineData(),
                borderColor: chartColors.primary,
                backgroundColor: chartColors.primary + '20',
                tension: 0.4,
                fill: true
            }, {
                label: 'Pass Rate',
                data: generatePassRateData(),
                borderColor: chartColors.success,
                backgroundColor: chartColors.success + '20',
                tension: 0.4,
                fill: true,
                yAxisID: 'y1'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                mode: 'index',
                intersect: false
            },
            plugins: {
                title: {
                    display: false
                },
                legend: {
                    position: 'bottom'
                }
            },
            scales: {
                y: {
                    type: 'linear',
                    display: true,
                    position: 'left',
                    title: {
                        display: true,
                        text: 'Number of Tests'
                    }
                },
                y1: {
                    type: 'linear',
                    display: true,
                    position: 'right',
                    title: {
                        display: true,
                        text: 'Pass Rate (%)'
                    },
                    min: 0,
                    max: 100,
                    grid: {
                        drawOnChartArea: false
                    }
                }
            }
        }
    });
}

// Persona Comparison Chart
function initializePersonaComparisonChart() {
    const ctx = document.getElementById('persona-comparison-chart');
    if (!ctx) return;
    
    const personaChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['Test Coverage', 'Pass Rate', 'Execution Time', 'Code Quality', 'Documentation'],
            datasets: getPersonaDatasets()
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                title: {
                    display: false
                },
                legend: {
                    position: 'bottom'
                }
            },
            scales: {
                r: {
                    beginAtZero: true,
                    max: 100,
                    ticks: {
                        stepSize: 20
                    }
                }
            }
        }
    });
}

// Coverage Gauge Chart
function initializeCoverageGauge() {
    const ctx = document.getElementById('coverage-gauge');
    if (!ctx) return;
    
    const coverageValue = parseInt(document.querySelector('.coverage-value h1')?.textContent || '0');
    
    const gaugeChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            datasets: [{
                data: [coverageValue, 100 - coverageValue],
                backgroundColor: [
                    getColorForCoverage(coverageValue),
                    '#e5e7eb'
                ],
                borderWidth: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: true,
            circumference: 180,
            rotation: 270,
            cutout: '80%',
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    enabled: false
                }
            }
        }
    });
}

// Coverage Trends Chart
function initializeCoverageTrendsChart() {
    const ctx = document.getElementById('coverage-trends-chart');
    if (!ctx) return;
    
    const trendsChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: generateDateLabels(30),
            datasets: [{
                label: 'Overall Coverage',
                data: generateCoverageTrendData(30),
                borderColor: chartColors.primary,
                backgroundColor: chartColors.primary + '20',
                tension: 0.4,
                fill: true
            }, {
                label: 'Unit Tests',
                data: generateCoverageTrendData(30, 85),
                borderColor: chartColors.success,
                borderDash: [5, 5],
                tension: 0.4
            }, {
                label: 'Integration Tests',
                data: generateCoverageTrendData(30, 70),
                borderColor: chartColors.warning,
                borderDash: [5, 5],
                tension: 0.4
            }, {
                label: 'E2E Tests',
                data: generateCoverageTrendData(30, 60),
                borderColor: chartColors.info,
                borderDash: [5, 5],
                tension: 0.4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                mode: 'index',
                intersect: false
            },
            plugins: {
                title: {
                    display: false
                },
                legend: {
                    position: 'bottom'
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100,
                    title: {
                        display: true,
                        text: 'Coverage (%)'
                    }
                }
            }
        }
    });
}

// Performance Charts
function initializePerformanceCharts() {
    // Implementation for performance charts
    console.log('Initializing performance charts...');
}

// Helper Functions
function generateTimeLabels() {
    const labels = [];
    const now = new Date();
    for (let i = 23; i >= 0; i--) {
        const time = new Date(now.getTime() - i * 60 * 60 * 1000);
        labels.push(time.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }));
    }
    return labels;
}

function generateTimelineData() {
    return Array.from({ length: 24 }, () => Math.floor(Math.random() * 50) + 10);
}

function generatePassRateData() {
    return Array.from({ length: 24 }, () => Math.floor(Math.random() * 20) + 75);
}

function generateDateLabels(days) {
    const labels = [];
    const now = new Date();
    for (let i = days - 1; i >= 0; i--) {
        const date = new Date(now.getTime() - i * 24 * 60 * 60 * 1000);
        labels.push(date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));
    }
    return labels;
}

function generateCoverageTrendData(days, baseValue = 75) {
    return Array.from({ length: days }, (_, i) => {
        const trend = i * 0.3; // Slight upward trend
        const randomVariation = (Math.random() - 0.5) * 5;
        return Math.min(100, Math.max(0, baseValue + trend + randomVariation));
    });
}

function getPersonaDatasets() {
    const personas = [
        {
            label: 'Developer',
            data: [85, 90, 75, 88, 92],
            borderColor: chartColors.primary,
            backgroundColor: chartColors.primary + '20'
        },
        {
            label: 'QA Engineer',
            data: [95, 88, 80, 85, 90],
            borderColor: chartColors.success,
            backgroundColor: chartColors.success + '20'
        },
        {
            label: 'Product Manager',
            data: [70, 85, 90, 75, 88],
            borderColor: chartColors.secondary,
            backgroundColor: chartColors.secondary + '20'
        }
    ];
    
    return personas;
}

function getColorForCoverage(value) {
    if (value >= 80) return chartColors.success;
    if (value >= 60) return chartColors.warning;
    return chartColors.danger;
}

// Chart Update Functions
function updateChart(chartId, newData) {
    const chart = Chart.getChart(chartId);
    if (chart) {
        chart.data = newData;
        chart.update();
    }
}

// Chart Export Function
function exportChartAsImage(chartId) {
    const chart = Chart.getChart(chartId);
    if (chart) {
        const url = chart.toBase64Image();
        const link = document.createElement('a');
        link.download = `${chartId}-${new Date().toISOString().split('T')[0]}.png`;
        link.href = url;
        link.click();
    }
}

// Chart Resize Handler
window.addEventListener('resize', debounce(() => {
    Chart.helpers.each(Chart.instances, (chart) => {
        chart.resize();
    });
}, 250));
    </script>
</body>
</html>